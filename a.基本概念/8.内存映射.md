<font size=4 color=green face="微软雅黑">
# 内存映射

## 系统调用mmap()的进程,会在其虚拟地址空间中创建一个新的内存映射

**内存映射分为两类:**
		
文件映射:
	
	将文件的部分区域映射如调用进程的虚拟内存.
	映射一旦完成,对文件映射内容的访问则转化为对相应区域的字节操作.
	映射页面会按需自动从文件中加载.

匿名映射:

	并无文件与之相对应.
	其映射页面的内容会被初始化为0.

由某一进程所映射的内存可以与其他进程的映射共享

达成共享的方式:
	
	1.两个进程都针对某一文件的相同部分加以映射
	2.有fork()创建的子进程自父进程处继承映射

两个或多个进程共享的页面相同时:
	
	1.如果创建映射是所传入的标志位私有,则某进程对映射内容的修改对于其他进程是不可见的
		而且这些改动也不会真的落实到文件上
	2.如果船务标志位共享,对映射内容的修改就会对其他进程所见
		并且这些修改也会造成对文件的改动

用途:
	
	可以执行文件的相应段来初始化进程的文本段,内容(内容填充为0)分配,
	文件I/O(即映射内存I/O)以及进程间通信(通过共享映射)
	