<font size=4 color=light-blue face="微软雅黑">

# 关闭文件: close()

**close()系统调用关闭一个打开的文件描述符, 并将其释放回调用进程, 恭该进程继续使用. 当以进程终止时, 将自动关闭漆一打开的所有文件描述符.**

```c
#include <unistd.h>

int close(int fd);

Returns 0 on success, or -1 on error
```

+ 显式关闭不在需要的文件描述符旺旺是良好的变成习惯, 会使代码在后续修改时更具可读性, 也更可靠
+ 进而言之, 文件描述符属于有限资源, 因此文件描述符关闭失败可能会导致一个进程将文件描述符子欧元消耗殆尽
+ 在编写需要长期运行并处理大量文件的程序时, 需要特别关注

对close()的调用进行错误检查
```C

if(close(fd) == -1)
	errExit("close");

```

能够捕获:
1. 企图关闭一个未打开的文件描述符
2. 两次关闭同一文件描述符
3. 特定文件系统在关闭操作中诊断出的错误条件
	
		比如: NSF(网络文件系统), 如果NFS出现提交数百, 这意味着数据没有抵达远程磁盘, 这一错误作为close()调用失败的原因传递给应用系统.

