<font size=4 color=#D8650D face="微软雅黑">

# 非阻塞 I/O

**打开文件时指定O_NONBLOCK标志**
+ 若open()调用未能立即打开文件, 则返回错误, 而非陷入阻塞
+ 有一种情况属于例外, 调用open()操作FIFO可能会陷入阻塞
+ 调用open()成功后, 后续的 I/O 操作也是非阻塞的
+ 若 I/O 系统调用未能立即完成, 则可能会只传输部分数据, 或者系统调用失败, 并返回EAGAIN或EWOULDBLOCK错误
+ 具体返回何种错误将依赖于系统调用, 


**管道, FIFO, 套接字, 设备都支持非阻塞模式**

+ 由于内核缓冲区保证了普通文件 I/O 不会陷入阻塞, 故而打开普通文件时一般会忽略O_NONBLOCK标志, 而当使用强制文件锁时, O_NONBLOCK标志对普通文件也起作用.

